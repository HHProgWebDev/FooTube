{"version":3,"sources":["src/script-player.js","src/script.js"],"names":[],"mappings":"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","file":"lib","sourcesContent":["/*\r\n*\r\n*/\r\n/*\r\n*\r\n*/\r\nfunction createVideo() {\r\n  //  Finna body og main element\r\n  const body = document.querySelector('body');\r\n  const main = document.querySelector('main');\r\n  //  Tæma body element.\r\n  empty(body);\r\n\r\n  //  Búa til element.\r\n  const title = document.createElement('h1');\r\n  const video = document.createElement('video');\r\n  const buttonDiv = document.createElement('div')\r\n  const prev = document.createElement('button');\r\n  const play = document.createElement('button');\r\n  const mute = document.createElement('button');\r\n  const fullscreen = document.createElement('button');\r\n  const next = document.createElement('button');\r\n  const returnToIndex = document.createElement('a');\r\n\r\n  //  Bæta við texta og attribute á element.\r\n  title.setAttribute('class', 'video-title');\r\n  video.setAttribute('class', 'video');\r\n  buttonDiv.setAttribute('class', 'button-block');\r\n  prev.appendChild(document.createTextNode('Fyrra'));\r\n  prev.setAttribute('class', 'button button--prev');\r\n  play.appendChild(document.createTextNode('Spila'));\r\n  play.setAttribute('class', 'button button--play');\r\n  mute.appendChild(document.createTextNode('Hljóð af'));\r\n  mute.setAttribute('class', 'button button--mute');\r\n  fullscreen.appendChild(document.createTextNode('Allur skjárinn'));\r\n  fullscreen.setAttribute('class', 'button button--fullscreen');\r\n  next.appendChild(document.createTextNode('Næsta'));\r\n  next.setAttribute('class', 'button button--next');\r\n  returnToIndex.appendChild(document.createTextNode('Til baka'));\r\n  returnToIndex.setAttribute('href', '../');\r\n\r\n\r\n  //  Bæta við upplýsingum úr videos.json skv. query streng í url.\r\n  loadJSON(function (response) {\r\n    const data = JSON.parse(response);\r\n    const index = getIndex(data.videos, parseQuery());\r\n    console.log(index);\r\n    title.appendChild(document.createTextNode(data.videos[index].title));\r\n    video.setAttribute('src', data.videos[index].video);\r\n    video.setAttribute('poster', data.videos[index].poster);\r\n  });\r\n\r\n  //  Setja inn element\r\n  body.appendChild(title);\r\n  body.appendChild(main);\r\n  main.appendChild(video);\r\n  main.appendChild(buttonDiv);\r\n  buttonDiv.appendChild(prev);\r\n  buttonDiv.appendChild(play);\r\n  buttonDiv.appendChild(mute);\r\n  buttonDiv.appendChild(fullscreen);\r\n  buttonDiv.appendChild(next);\r\n  main.appendChild(returnToIndex);\r\n\r\n  //  Bæta við takka atburða hlustendum.\r\n  video.addEventListener('ended', function(e) {\r\n    e.preventDefault();\r\n\r\n    video.pause();\r\n    video.currentTime = 0;\r\n    empty(play);\r\n    play.appendChild(document.createTextNode('Spila'));\r\n  })\r\n\r\n  play.addEventListener('click', function(e) {\r\n    e.preventDefault();\r\n\r\n    if (video.paused) {\r\n      video.play();\r\n      empty(play);\r\n      play.appendChild(document.createTextNode('Stoppa'));\r\n    }\r\n    else {\r\n      video.pause();\r\n      empty(play);\r\n      play.appendChild(document.createTextNode('Spila'));\r\n    }\r\n\r\n  })\r\n\r\n}\r\n/*\r\n* empty tæmir öll börn el.\r\n*/\r\nfunction empty(el) {\r\n  while(el.firstChild) {\r\n    el.removeChild(el.firstChild);\r\n  }\r\n}\r\n\r\n/*\r\n* loadJSON tekur við falli callback sem tekur response\r\n* og vinnur með það\r\n*/\r\nfunction loadJSON(callback) {\r\n  const r = new XMLHttpRequest();\r\n  r.overrideMimeType(\"application/json\");\r\n  r.open('GET', 'videos.json', true);\r\n\r\n\r\n  r.onload = function() {\r\n    if (r.status >= 200 && r.status < 400) {\r\n      callback(r.response);\r\n    } else {\r\n      console.log('villa!',r);\r\n    }\r\n  };\r\n\r\n  r.onerror = function() {\r\n    console.log('villa í tengingu');\r\n  }\r\n\r\n  r.send();\r\n}\r\n\r\n/*\r\n* parseQuery skoðar url og skilar gildi id frá querystrengnum.\r\n* Ef query strengur er ekki réttur skilar parseQuery -1.\r\n*/\r\nfunction parseQuery() {\r\n  const query = window.location.search.substring(1);\r\n    const vars = query.split('&');\r\n    for (let i = 0; i < vars.length; i++) {\r\n        const pair = vars[i].split('=');\r\n        if (decodeURIComponent(pair[0]) == 'id') {\r\n            return decodeURIComponent(pair[1]);\r\n        }\r\n    }\r\n    console.log('Query strengur er ekki réttur');\r\n}\r\n\r\n/*\r\n* getIndex tekur fylki data af hlutum obj og skilar index af data\r\n* með attribute obj.id=id.\r\n*/\r\nfunction getIndex(data, id) {\r\n  let ind = 0;\r\n  let index = 0;\r\n\r\n\r\n  data.forEach(function(obj) {\r\n    if(obj.id == id) {\r\n      index = ind;\r\n    } else {\r\n      ind += 1;\r\n    }\r\n  });\r\n\r\n  return index;\r\n}\r\n\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  createVideo();\r\n});\r\n","document.addEventListener('DOMContentLoaded', () => {\r\n  \r\n});\r\n"]}